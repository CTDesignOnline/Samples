@model IEnumerable<BrambleBerry.Kitchen.Models.Account.MyOrders.OrderModel>

@foreach (var order in Model)
{
    <div class="row order-item">

        <div class="links col-m-3 push-m-9 col-xs-6 push-xs-6">
            <button type="button">Order Summary: TODO</button>
            <button type="button">Reorder this Order: TODO</button>
        </div>

        <div class="order-brief col-m-3 pull-m-3 col-xs-6 pull-xs-6">
            <p class="order-placed">
                <span class="pseudo-label">Order Placed</span>
                <span class="order-date">@order.CreatedOn.ToString("MMM dd, yyyy")</span>
            </p>
            <p class="order-details"><span class="pseudo-label">Order Details</span> @Html.ActionLink(string.Format("#{0}", "TODO: Invoice Number"), "View", new { id = order.Id })</p>
            <div class="recipient">
                <label for="recipient-display"><span class="pseudo-label">Recipient</span> @order.BillingAddress.Name <i class="fa fa-chevron-circle-down"></i></label>
                <input type="checkbox" id="recipient-display" class="invis"/>
                <div class="vcard">
                    <span class="fn">@order.BillingAddress.Name</span>
                    <span class="adr">
                        <span class="street-address">@order.BillingAddress.Address1</span>
                        @if(!string.IsNullOrEmpty(order.BillingAddress.Address2))
                        { 
                            <span class="extended-address">@order.BillingAddress.Address2</span>
                        }
                        <span class="locality">@order.BillingAddress.Locality</span>, <span class="region">@order.BillingAddress.Region</span> <span class="postal-code">@order.BillingAddress.PostalCode</span>
                        <span class="country-name">@order.BillingAddress.CountryCode</span>
                    </span>
                </div>
            </div>
        </div>

        <div class="shipments col-m-6 pull-m-3 col-xs-12 reset-xs-only">
            <div class="shipment">
                <p><span class="pseudo-label">Estimated Delivery</span> #TODO</p>
                <p class="state-tracking"><span class="order-state">@order.State</span> <span class="pseudo-label">Tracking ID</span> <a href="#">TODO Tracking number. Also only display if shipped.</a></p>
                <ul class="shipment-items">
                    @foreach (var item in order.Items)
                    {
                        <li>
                            <h4>@item.Name</h4>
                            <p>x @item.Quantity @@ @item.Price.ToString("C")</p>
                        </li>
                    }
                </ul>
            </div>
        </div>

        </div>
}